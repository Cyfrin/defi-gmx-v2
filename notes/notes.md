# [Buy BTC/USDC GM (part 1)](https://arbiscan.io/tx/0xef88d101a155ffd16427fc78d50e6028d612c8bc1e8d46a7810d53882f705f91)

0. `Sender -> ExchangeRouter.multicall, value = 0.000073825089 ETH`
1. `ExchangeRouter.sendWnt(receiver = DepositVault, amount = 0.000073825089 ETH)`
2. `ExchangeRouter.sendTokens(token = USDC, receiver = DepositVault, amount = 10 USDC)`
3. `ExchangeRouter.createDeposit`
   - `DepositHandler.createDeposit(params)`
     - `DepositUtils.createDeposit`
       - `DepositVault.recordTransferIn`
       - `DepositStoreUtils.set`

```
params
{
  "receiver": "0xd24cba75f7af6081bff9e6122f4054f32140f49e",
  "callbackContract": "0x0000000000000000000000000000000000000000",
  "uiFeeReceiver": "0xff00000000000000000000000000000000000001",
  "market": "0x47c031236e19d024b42f8ae6780e44a573170703",
  "initialLongToken": "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f",
  "initialShortToken": "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
  "longTokenSwapPath": [],
  "shortTokenSwapPath": [],
  "minMarketTokens": "4158804842790729588",
  "shouldUnwrapNativeToken": false,
  "executionFee": "73825089000000",
  "callbackGasLimit": "0"
}

key = 0x44b5190b0b9dd6a3d0aa40c1b4ff79ffece9f7c19e676438209d67d5c77fd49c
```

# [Buy BTC/USDC GM (part 2)](https://arbiscan.io/tx/0x54357ec00e44fa8d3d701368af4a3979a28dd2383b9eb5a3f299253e8ce217a1)

0. `Sender -> DepositHandler.executeDeposit`
1. `Oracle.setPrices`
2. `DepositStoreUtils.get`
3. `ExecuteDepositUtils.executeDeposit`
4. `PositionUtils.updateFundingAndBorrowingState`

`Oracle.clearAllPrices()`

```
oracle params
{
  "tokens": [
    "0x47904963fc8b2340414262125af798b9655e58cd",
    "0xaf88d065e77c8cc2239327c5edb3a432268e5831",
    "0x2f2a2543b76a4166549f7aab2e75bef0aefc5b0f"
  ],
  "providers": [
    "0xf4122df7be4ccd46d7397daf2387b3a14e53d967",
    "0xf4122df7be4ccd46d7397daf2387b3a14e53d967",
    "0xf4122df7be4ccd46d7397daf2387b3a14e53d967"
  ],
  "data": [
    "0x0006fede3c3758908c63ee79f1ca04f5bd4ede1ff05709c761882103eed558ec000000000000000000000000000000000000000000000000000000002869a00e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000003000000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000039d9e45394f473ab1f050a1b963e6b05351e52d71e507509ada0c95ed75b8000000000000000000000000000000000000000000000000000000006790519000000000000000000000000000000000000000000000000000000000679051900000000000000000000000000000000000000000000000000000578c048e0494000000000000000000000000000000000000000000000000002afa87f78c27d4000000000000000000000000000000000000000000000000000000006791a310000000000000000000000000000000000000000000001666aade29cf9e29f5c0000000000000000000000000000000000000000000001666aa6336344632bdc0000000000000000000000000000000000000000000001666d6b10d61b18b0f400000000000000000000000000000000000000000000000000000000000000006f228c8af09e027708575209a075541bac14472ac99335c6516ca63184fdb9836f35e40d3f0695d245b8ce8d957cdae654d977120b1c049fdaa52a86099d5294f96d4d8a0280aa4e09b184f15fd0750b54856f103079b3e328da4aa49d2d9f69b57d196fca7981d2aab512fdb812f162379270130cdd967fa7ec6a34d2eeb33d9b5759da385e9a9f507fe1b523ef379fae6bc3f09e5aed40e7e7664cce6851fe3cc113fb0c927980992d60195ed349fead6f5c20f0eade55bcbf19a712da6421d00000000000000000000000000000000000000000000000000000000000000062cc2f8468336c87e5809b0fa70b0d69f0e2a8d9d00122b7d8167a1f9ed042e7230ed306a81f3d8e0aef7c70f1d4d51f9b546a9b635e4d3c50b6174f1676e1994243b024799e201572c44f7559bd18fb9279182376ffcd6eb74acaf9a0ad706b63dc93464561f59e0b0a5c53667a286b971904042e1cbceb9c6079b00d475d7a332a87763305d42586ae11f9214acf03a9043987020af06be7742dadc9909f9db72ade11c71e6df625f5ffb3cc96e03fd47f065dea310f7dfe90dc73beb1e6a7c",
    "0x00064c28ccf99cc505d648ffcbc4c2c613859826fd4552841a6822b51800d961000000000000000000000000000000000000000000000000000000002868c90e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000003000101000101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000038f83323b6b08116d1614cf33a9bd71ab5e0abf0c9f1b783a74a43e7bd992000000000000000000000000000000000000000000000000000000006790519000000000000000000000000000000000000000000000000000000000679051900000000000000000000000000000000000000000000000000000578c048e0494000000000000000000000000000000000000000000000000002afa87f78c27d4000000000000000000000000000000000000000000000000000000006791a3100000000000000000000000000000000000000000000000000de0c05919b4c3020000000000000000000000000000000000000000000000000de0a55c4b7037cc0000000000000000000000000000000000000000000000000de0ebdc9ae0b4000000000000000000000000000000000000000000000000000000000000000006ac3b57a28d8637f5ab3b0b726d6405cd6804842406a9922eb5b32b0931b13b16ccbdd381159237205b96a18b76dcdb5452acc19183a9e54eb5b23be0b3c33049bfe0ad9f4fb7ef427883ecaa903aea902bb1dc76d0cdb4b987cbd9754612937eef24e59800c84144f9b34993695b48519a11f0726987c8c2a9bf97d55b4ab2c9ccccb371e06a0fa77cf6b8529f9eb11c8926404d7d97589ce6465a5309ff9872135a82d5de69c27f3efd35c88ed0b4b2f071a8dd3b49d0db4431d7b524aedfe300000000000000000000000000000000000000000000000000000000000000066d6af087c4688c048debee9608c82908c9668909e244c8aae13aceb0e74de2805dcb596615005f63b71c0fefb1f1c66abc0ad207f076e7eaec12fefcc4fa0f727b88bd1bb551a36c1bb4e6f34ee46d2098f89d3e26efb83de22675e958ee6e6f3cd61156500cc188c318fdff58ea90f95760e575e5b40623d8ef61ce88c72a900145bf8a5e314149fa0a5f6721d3c770ba9db821319fbedbbeb381fca8bf92005ca4f25b101ac97e9f5835ca87dba756a2a9cdb234b4887737c2efcf59a3a491",
    "0x0006fede3c3758908c63ee79f1ca04f5bd4ede1ff05709c761882103eed558ec000000000000000000000000000000000000000000000000000000002869a00e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000003000000000100010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000012000039d9e45394f473ab1f050a1b963e6b05351e52d71e507509ada0c95ed75b8000000000000000000000000000000000000000000000000000000006790519000000000000000000000000000000000000000000000000000000000679051900000000000000000000000000000000000000000000000000000578c048e0494000000000000000000000000000000000000000000000000002afa87f78c27d4000000000000000000000000000000000000000000000000000000006791a310000000000000000000000000000000000000000000001666aade29cf9e29f5c0000000000000000000000000000000000000000000001666aa6336344632bdc0000000000000000000000000000000000000000000001666d6b10d61b18b0f400000000000000000000000000000000000000000000000000000000000000006f228c8af09e027708575209a075541bac14472ac99335c6516ca63184fdb9836f35e40d3f0695d245b8ce8d957cdae654d977120b1c049fdaa52a86099d5294f96d4d8a0280aa4e09b184f15fd0750b54856f103079b3e328da4aa49d2d9f69b57d196fca7981d2aab512fdb812f162379270130cdd967fa7ec6a34d2eeb33d9b5759da385e9a9f507fe1b523ef379fae6bc3f09e5aed40e7e7664cce6851fe3cc113fb0c927980992d60195ed349fead6f5c20f0eade55bcbf19a712da6421d00000000000000000000000000000000000000000000000000000000000000062cc2f8468336c87e5809b0fa70b0d69f0e2a8d9d00122b7d8167a1f9ed042e7230ed306a81f3d8e0aef7c70f1d4d51f9b546a9b635e4d3c50b6174f1676e1994243b024799e201572c44f7559bd18fb9279182376ffcd6eb74acaf9a0ad706b63dc93464561f59e0b0a5c53667a286b971904042e1cbceb9c6079b00d475d7a332a87763305d42586ae11f9214acf03a9043987020af06be7742dadc9909f9db72ade11c71e6df625f5ffb3cc96e03fd47f065dea310f7dfe90dc73beb1e6a7c"
  ]
}
```

- [ExchangeRouter](https://arbiscan.io/address/0x900173a66dbd345006c51fa35fa3ab760fcd843b)
- [Router](https://arbiscan.io/address/0x7452c558d45f8afc8c83dae62c3f8a5be19c71f6)
- [DepositVault](https://arbiscan.io/address/0xf89e77e8dc11691c9e8757e84aafbcd8a67d7a55)
- [DepositHandler](https://arbiscan.io/address/0xfe2df84627950a0fb98ead49c69a1de3f66867d6)
- [DepositUtils](https://arbiscan.io/address/0x5554b2055ab335b1f4c811bb98d1eb62a18d3dee)
- [DepositStoreUtils](https://arbiscan.io/address/0xb683491705eb8f27ed94b06baaf4d64fbb9baec)
- [Oracle](https://arbiscan.io/address/0xb8fc96d7a413c462f611a7ac0c912c2fe26eabc4)
- [ExecuteDepositUtils](https://arbiscan.io/address/0xf9256546428db9f2927398cfdb0906834db96723)
